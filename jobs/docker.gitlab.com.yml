job:
  package-manager: docker
  ignore-conditions:
    - dependency-name: "dotnet/aspnet"
      version-requirement: ">= 9" 
    - dependency-name: "gitlab/gitlab-ce"
      version-requirement: ">= 18.6, < 18.8" 
  source:
    provider: gitlab
    # hostname should be the host with the added path (if any) to uniquely identify the GitLab instance.
    hostname: $GL_HOST$GL_PATH
    api-endpoint: https://$GL_HOST$GL_PATH/api/v4/
    repo: $GL_REPO
    directories: [ $GL_DIRECTORY ]
    branch: $GL_BRANCH
credentials:
  - type: git_source
    host: $GL_HOST
    username: $GITLAB_USERNAME
    password: $GITLAB_TOKEN
# The log shows a 401 error when accesing the docker registry, but it seems that setting the credentials is not needed
#  - type: docker_registry
#    registry: https://registry.hub.docker.com
#    username: $DOCKER_USERNAME
#    password: $DOCKER_PASSWORD
#  - type: docker_registry
#    registry: https://mcr.microsoft.com
#    username: $DOCKER_USERNAME
#    password: $DOCKER_PASSWORD
